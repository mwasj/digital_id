
<div ng-controller="NewHostCtrl">
    <div class="modal-header">
        <h3 class="modal-title">Add new {{$parent.currentDeviceType}}</h3>
    </div>

    <div class="form-group">
        <label id="lbl_hostName" for="hostName" class="col-sm-4 control-label">Host Name</label>

        <div class="col-sm-8">
            <input type="text" class="form-control" name="hostName" id="hostName" placeholder=""
                   ng-model="$parent.hostName">
        </div>
    </div>

    <div class="form-group">
        <label id="lbl_userName" for="userName" class="col-sm-4 control-label">User Name</label>

        <div class="col-sm-8">
            <input type="text" class="form-control" name="userName" id="userName" placeholder="" ng-model="$parent.userName">
        </div>
    </div>

    <div class="form-group">
        <label id="lbl_password" for="password" class="col-sm-4 control-label" is-required="password">Password</label>

        <div class="col-sm-8">
            <input type="text" class="form-control" name="password" id="password"
                   ng-model="$parent.password">
        </div>
    </div>

    <div class="btn-group" dropdown is-open="dropdownisopen">

        <label id="lbl_componentType" for="componentType" class="col-sm-4 control-label">{{$parent.currentDeviceType}} Type</label>

        <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle ng-disabled="disabled" id="componentType">
             {{$parent.componentLabel}}<span class="caret"></span>
        </button>

        <ul class="dropdown-menu">
            <li ng-repeat="option in $parent.componentOptions">
                <a ng-click="setAction(option)">{{option}}</a>
            </li>
        </ul>
    </div>

    <div class="form-group" style="margin-left: 15px">

        <label>Select one of the following:</label>
        <br />
        <button class="btn btn-primary" ng-click="addUserDefinedAction()">Execute your own command</button>

        or

        <div class="btn-group" dropdown is-open="dropdownisopen2">

            <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle ng-disabled="disabled" id="predefinedAction">
                {{$parent.predefinedActionLabel}}<span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
                <li ng-repeat="action in $parent.actions">
                    <a ng-click="addAction(action)">{{a.description}}</a>
                </li>
            </ul>
        </div>

        <table>
            <tr ng-show="$parent.actions.length > 0">
                <th>Command</th><th>Then wait for (sec)</th><th>Comparable</th>
            </tr>

            <tr ng-repeat="action in $parent.actions" style="margin-top: 15px">
                <td>
                    <input type="text"
                           class="form-control"
                           name="action.description"
                           id="action.description"
                           placeholder="Type your command here"
                           ng-model="action.commands[0].commandString"
                           ng-disabled="action.actionIndex !== 0">
                </td>

                <td>
                    <input type="text"
                           class="form-control"
                           name="interval"
                           id="interval"
                           placeholder="0 sec."
                           ng-model="action.commands[0].interval"
                           ng-disabled="action.actionIndex !== 0">
                </td>

                <td>
                    <input
                            type="checkbox"
                            name=action.command"
                            value="action.command"
                            ng-click="$parent.toggleSelection(action)"
                            ng-checked="action.actionIndex !== 0 ? true : action.commands[0].comparable"
                            ng-disabled="action.actionIndex !== 0">
                </td>
                <td><button class="btn btn-danger" ng-click="$parent.removeAction(action)">Delete</button></td>
            </tr>
        </table>
    </div>


    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</div>

